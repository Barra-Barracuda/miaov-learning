<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
<style>
ul,h2{padding:0;margin:0;}
li{list-style:none;}
#list{width:240px;border:1px solid #333;margin:0 auto;}
#list .lis{}
#list h2{background:url(../l3.4/img/ico1.gif) no-repeat 5px center #6FF;color:#000;height:30px;line-height:30px;text-indent:20px;}
#list .active{background:url(../l3.4/img/ico2.gif) no-repeat 5px center #FF9;color:#000;}
#list ul{display:none;}
#list ul li {line-height:24px;border-bottom:1px solid #333;text-indent:24px;}
#list ul .hover{background:#6FF;}

</style>
<script>
window.onload = function(){
	var oUl = document.getElementById('list');
	var aH2 = oUl.getElementsByTagName('h2');
	var aUl = oUl.getElementsByTagName('ul');
	var aLi = null;
	var arrLi=[];
	
	
	for(var i=0;i<aH2.length;i++){
		aH2[i].index = i;
		aH2[i].onclick = function(){
			
			for(i=0;i<aH2.length;i++){ //多了这个，如果不是索引点击的话，就设为无
				if(i!=this.index){
					aUl[i].style.display ='none';
					aH2[i].className = '';
					}
				};
			
			if(this.className == ''){
			aUl[this.index].style.display = 'block' ;
			this.className = 'active';
			
			onOff= false;
			}else{
				aUl[this.index].style.display = 'none' ;
				this.className = '';
				onOff = true;
				}
			};
		};
		
	for(var i=0;i<aUl.length;i++){  //因为ul有三个，所以用循环找到三个ul下的li
	aLi=aUl[i].getElementsByTagName('li');
	for(var j=0;j<aLi.length;j++){
		arrLi.push(aLi[j]); //把一堆li放入数组里 ,方便循环
		};
	
		};
	for(var i=0;i<arrLi.length;i++){ //每个li加点击事件
		arrLi[i].onclick = function(){ 
			for(var i=0;i<arrLi.length;i++){//中间套函数，可以不用j
				arrLi[i].className='';
				}; 
			
			
				this.className = 'hover';
				
		
			
			};
	};
	
	};
</script>
</head>

<body>
<ul id="list">
	<li class="lis">
   		<h2>我的好友</h2>
        <ul>
        	<li>张三</li>
            <li>张三</li>
            <li>张三</li>
            <li>张三</li>
         
        </ul>
    </li>
	<li class="lis">
   		<h2>企业好友</h2>
        <ul>
        	<li>李三</li>
            <li>李三</li>
            <li>李三</li>
            <li>李三</li>
         
        </ul>
    </li>
    
    <li class="lis">
   		<h2>黑名单</h2>
        <ul>
        	<li>张1三</li>
            <li>张2三</li>
            <li>张3三</li>
            <li>张4三</li>
         
        </ul>
    </li>
</ul>
</body>
</html>
