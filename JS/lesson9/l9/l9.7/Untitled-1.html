<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>

<style>
img{width:100px;height:100px;position:absolute;top:200px;}
</style>
<script>
function shake(obj,attr,endFn){
	
		var pos = parseInt(getStyle(obj,attr)); //有问题
		
		var arr = []; //抖动 20，-20，18，-18.....0

		var num =0;
		
		
		for(var i=20;i>0;i-=2){
			arr.push(i,-i);	
			};
			arr.push(0);  //因为循环到0就停止了，还要放个0进去
			//alert(arr);
			
			clearInterval(obj.shake);
			obj.shake = setInterval(function(){
				obj.style[attr] = pos + arr[num] + 'px';
				num++;
				if(num === arr.length){
					clearInterval(obj.shake);
					
					endFn && endFn();  //如果回调函数传进来就调用
					};
				},50)
		};	
		
		function getStyle ( obj, attr ) { return obj.currentStyle?obj.currentStyle[attr] : getComputedStyle( obj )[attr]; }

window.onload = function(){
	var aImg = document.getElementsByTagName('img');
	
	for(var i=0;i<aImg.length;i++){
		aImg[i].style.left = 80+i*110 + 'px';  //80是最左边的间距，110是图片宽度+10的间隔
		
		aImg[i].onmouseover = function(){
			shake(this,'top');
			};
		};
	};
</script>
</head>

<body>
<img src="img/1.jpg"/>
<img src="img/2.jpg"/>
<img src="img/3.jpg"/>
<img src="img/4.jpg"/>
<img src="img/5.jpg"/>
<img src="img/6.jpg"/>
<img src="img/7.jpg"/>
<img src="img/8.jpg"/>
</body>
</html>
